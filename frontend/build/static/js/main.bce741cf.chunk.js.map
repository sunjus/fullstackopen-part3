{"version":3,"sources":["components/Filter.js","services/persons.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","handleFilter","filter","onChange","value","baseUrl","axios","get","then","response","data","newObject","post","id","delete","person","put","PersonForm","persons","setPersons","message","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","e","preventDefault","newPerson","name","number","length","window","confirm","samePerson","personService","res","map","catch","concat","target","type","Person","onClick","finally","Persons","filterPersons","toLowerCase","includes","i","Notification","errorMsg","msg","style","color","backgroundColor","border","padding","margin","fontSize","App","setFilter","setErrorMsg","useEffect","initialPhonebook","newMsg","newType","setTimeout","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bce741cf.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ handleFilter, filter }) => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        filter shown with\r\n        <input onChange={handleFilter} value={filter} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"http://localhost:3001/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (person) => {\r\n  const request = axios.put(`${baseUrl}/${person.id}`, person);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, remove, update };\r\n","import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport personService from \"../services/persons\";\r\n\r\nconst PersonForm = ({ persons, setPersons, message }) => {\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n\r\n  const addPerson = (e) => {\r\n    e.preventDefault();\r\n    const newPerson = { name: newName, number: newNumber };\r\n\r\n    if (newPerson.name === \"\" || newPerson.number === \"\") {\r\n      message(\"Enter name and number.\", \"error\");\r\n    } else if (\r\n      persons.filter((person) => person.name === newPerson.name).length > 0\r\n    ) {\r\n      if (\r\n        window.confirm(\r\n          `${newPerson.name} is already added to phonebook, replace the old number with a new  one?`\r\n        )\r\n      ) {\r\n        const samePerson = persons.filter(\r\n          (person) => person.name === newName\r\n        )[0];\r\n        personService\r\n          .update({ ...samePerson, number: newPerson.number })\r\n          .then((res) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id === samePerson.id ? res : person\r\n              )\r\n            );\r\n            setNewName(\"\");\r\n            setNewNumber(\"\");\r\n            message(`${samePerson.name}'s number was updated`, \"success\");\r\n          })\r\n          .catch(() => {\r\n            setPersons(persons.filter((person) => person.id !== samePerson.id));\r\n            message(`${samePerson.name} does not exist`, \"error\");\r\n          });\r\n      }\r\n    } else {\r\n      personService.create(newPerson).then((res) => {\r\n        setPersons(persons.concat(res));\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n        message(`Added ${newPerson.name}`, \"success\");\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (e) => {\r\n    setNewNumber(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input onChange={handleNameChange} value={newName} />\r\n        </div>\r\n        <div>\r\n          number: <input onChange={handleNumberChange} value={newNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">Add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\nimport personService from \"../services/persons\";\r\n\r\nconst Person = ({ person, persons, setPersons, message }) => {\r\n  const handleDelete = (id) => {\r\n    if (window.confirm(`Do you want to delete ${person.name}?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then(() => {\r\n          message(`${person.name} has been removed from server`, \"success\");\r\n        })\r\n        .catch(() => {\r\n          message(\r\n            `${person.name} has been already removed from server`,\r\n            \"error\"\r\n          );\r\n        })\r\n        .finally(() => {\r\n          setPersons(persons.filter((person) => person.id !== id));\r\n        });\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      {person.name}\r\n      {\":\"} {person.number}{\" \"}\r\n      <button onClick={() => handleDelete(person.id)}>Delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({ filter, persons, setPersons, message }) => {\r\n  const filterPersons =\r\n    filter === \"\"\r\n      ? persons\r\n      : persons.filter((person) =>\r\n          person.name.toLowerCase().includes(filter.toLowerCase())\r\n        );\r\n  return (\r\n    <div>\r\n      {filterPersons.map((person, i) => (\r\n        <Person\r\n          key={i}\r\n          person={person}\r\n          persons={persons}\r\n          setPersons={setPersons}\r\n          message={message}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ errorMsg: { msg, type } }) => {\r\n  const style = {\r\n    color: type === \"error\" ? \"red\" : \"green\",\r\n    backgroundColor: \"lightgrey\",\r\n    border: type === \"error\" ? \"1px dotted red\" : \"1px dotted green\",\r\n    padding: \"5px\",\r\n    margin: \"0px 0px 10px 0px\",\r\n    fontSize: \"18px\",\r\n  };\r\n  if (msg === \"\") {\r\n    return null;\r\n  }\r\n  return <div style={style}>{msg}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState({ msg: \"\", type: \"\" });\n\n  useEffect(() => {\n    //axios.get(\"http://localhost/3001/persons\").then((res) => {\n    //setPersons(res.data);\n    personService.getAll().then((initialPhonebook) => {\n      setPersons(initialPhonebook);\n    });\n    // });\n  }, []);\n\n  const message = (newMsg, newType) => {\n    setErrorMsg({ msg: newMsg, type: newType });\n    setTimeout(() => setErrorMsg({ msg: \"\", type: \"\" }), 5000);\n  };\n\n  const handleFilter = (e) => {\n    setFilter(e.target.value);\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <h1>Phonebook</h1>\n        <Notification errorMsg={errorMsg} />\n        <Filter handleFilter={handleFilter} filter={filter} />\n        <PersonForm\n          persons={persons}\n          setPersons={setPersons}\n          message={message}\n        />\n        <h2>Numbers</h2>\n        <Persons\n          persons={persons}\n          filter={filter}\n          setPersons={setPersons}\n          message={message}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}